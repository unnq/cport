/* =========================
   Design Tokens
   ========================= */
:root {
  --deepblack: #242424;
  --heroblack: #0a0a0a;
  --closewhite: #fcfcfc;
  --lightgray: #f2f1f0;

  --font-body: "Geist Mono", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-title: "Geist Mono", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* =========================
   Base
   ========================= */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--deepblack);
  color: var(--closewhite);
  font-family: var(--font-body);
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* sticky footer pattern */
}
main { flex: 1 0 auto; }

h1 { margin: 0; }

h2 { margin: 0; }

figure { margin: 0; }

/* =========================
   Floating Glass Navbar
   ========================= */
.site-nav {
  position: fixed;
  top: 2vh;
  left: 50%;
  transform: translateX(-50%);
  z-index: 50;

  /* Glass pill container */
  background: rgba(46, 34, 26, 0.08);
  backdrop-filter: blur(12px) saturate(160%) brightness(110%);
  -webkit-backdrop-filter: blur(12px) saturate(160%) brightness(110%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 1.8rem;
  box-shadow: 0 6px 22px rgba(0,0,0,0.28);
  padding: 0.5rem 0.875rem;   /* outer padding for the pill */
}

/* 3-zone grid ensures the center stays truly centered */
.nav-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: 1.25rem;
  min-width: 540px;           /* optional: keeps a nice pill width */
}

/* Left menu */
.nav-left {
  display: flex;
  gap: 1rem;
  justify-self: start;
}

.nav-left a {
  text-decoration: none;
  color: var(--closewhite, #fcfcfc);
  font-weight: 600;
  line-height: 1;
  padding: 0.5rem 0.25rem;       /* bigger tap target */
  font-family: "Geist Mono", monospace;
}
.nav-left a:hover { color: var(--lightgray, #f2f1f0); }

/* Center logo */
.nav-center {
  justify-self: center;
}
.nav-logo {
  height: 24px;                  /* adjust as needed */
  width: auto;
  display: block;
  object-fit: contain;
  filter: drop-shadow(0 0 0 transparent); /* crisp */
  user-select: none;
  -webkit-user-drag: none;
}

/* Right icons */
.nav-right {
  display: flex;
  gap: 0.75rem;
  justify-self: end;
}
.icon-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  color: var(--closewhite, #fcfcfc);
  transition: transform 120ms ease, background-color 120ms ease, color 120ms ease;
}
.icon-link:hover {
  background: rgba(255,255,255,0.08);
  color: var(--lightgray, #f2f1f0);
  transform: translateY(-1px);
}

/* Optional: small screens */
@media (max-width: 640px) {
  .nav-grid { 
    min-width: 0; 
    gap: 0.75rem;
  }
  .nav-left a { font-weight: 500; }
  .nav-logo { height: 20px; }
}



/* =========================
   Hero (100vh desktop, 90vh mobile)
   Grid: top 75% content, bottom 25% white strip
   ========================= */
#hero {
  height: 96vh;                 /* desktop */
  position: relative;
  display: grid;
  overflow: hidden;              /* clip noise to hero */
  padding-top: 4vh;              /* clear fixed nav */
  box-sizing: border-box;        /* include padding in 100vh */
  border-bottom: 1px solid var(--deepblack);
}

@media (max-width: 768px) {
  #hero { height: 90vh; }        /* mobile */
}

.hero-top {
  grid-row: 1;
  display: flex;
  flex-direction: column;
  background: var(--heroblack);
  margin: 6vh 6vw;
  padding: 0;
  border-radius: 24px;
}

/* Each row: fixed height, no inner spacing */
.marquee-row {
  flex: 1;
  display: flex;
  overflow: hidden;
  align-items: center;
  margin: 0;
  padding: 0;
}

/* The moving track (JS translates this) */
.marquee-track {
  display: flex;
  align-items: center;
  gap: clamp(24px, 3vw, 56px); /* space between items */
  will-change: transform;
  transform: translate3d(0,0,0);
}

/* A logical grouping we clone for seamless loop */
.marquee-group {
  display: inline-flex;
  align-items: center;
  gap: inherit;
}

/* Items (either <img> SVGs or inline <svg>) */
.marquee-item img,
.marquee-item svg {
  max-height: 70%; /* scale visuals relative to row height */
  width: auto;
  display: block;
}

/* Fallback text shown until SVGs are provided */
.marquee-fallback {
  font-family: "Geist Mono", monospace;
  font-weight: 700;
  font-size: clamp(20px, 4vw, 64px);
  color: var(--deepblack);
  opacity: 0.6;
  white-space: nowrap;
  padding: 0 1rem;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .marquee-track { transform: none !important; }
}

#hero .subtitle {
  margin: 0 0 0.25rem 0;
  font-size: clamp(0.9rem, 1.5vw, 1.25rem);
  color: var(--lightgray);
}
#hero h1 {
  margin: 0 0 -3.5vw -2vw;       /* intentional overlap into white strip */
  line-height: 0.95;
  letter-spacing: -0.02em;
  font-weight: 600;
  font-size: clamp(6rem, 23.5vw, 32rem);
  color: var(--closewhite);
  font-family: var(--font-title);
  pointer-events: none;
}

/* --- Hero strip: content layout --- */
.hero-strip {
  grid-row: 2;
  background: var(--closewhite);
  height: 40vh;                       /* your existing height */
  color: var(--deepblack);             /* dark text on white */
  position: relative;
}

.hero-strip-inner{
  height: 100%;
  display: grid;
  grid-template-rows: auto 1fr;
  gap: clamp(8px, 1.5vw, 16px);
  padding: clamp(16px, 3vw, 28px);
  /* give breathing room under the big CUTLASS overlap */
  padding-top: clamp(24px, 6vw, 56px);
}

/* small section label */
.collections-title{
  margin: 0;
  font-size: 0.9rem;
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  opacity: 0.9;
}

/* 3 columns */
.collections-grid{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: clamp(16px, 2.2vw, 32px);
  align-items: start;
  margin: auto 3vw auto 0;
}

/* column blocks */
.collection-col h3{
  margin: 0 0 8px 0;
  font-size: clamp(1rem, 1.2vw, 1.15rem);
  font-weight: 700;
  letter-spacing: 0.01em;
}

.collection-col ul{
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 6px;
}

.collection-col a{
  text-decoration: none;
  color: var(--deepblack);
  font-weight: 500;
}

.collection-col a:hover{ opacity: .7; }

/* mobile stacking */
@media (max-width: 900px){
  .collections-grid{
    gap: clamp(12px, 3vw, 18px);
  }
}

/* keep grain above, content below (matches your pattern) */
#hero[data-noise] .noise-canvas { z-index: 60; }
.hero-strip, .hero-strip * { position: relative; z-index: 0; }


/* =========================
   Next Section: 3-up gallery, no gaps
   ========================= */
#next {
  height: 100vh;                          /* one row, full viewport feel */
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 3 even columns */
  gap: 0;                                 /* no gutters */
  padding: 0; margin: 0; border: 0;
  background: var(--closewhite);
  position: relative;                     /* host for noise canvas */
}

/* each column */
#next .next-col {
  position: relative;
  overflow: hidden;
  margin: 0;                              /* kill figure default margins */
}

/* images fill their column */
#next .next-col img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;                      /* crop to fill */
  display: block;
  z-index: 1;
}

/* Keep your tiny seam bleed */
#next[data-noise] .noise-canvas { 
  inset: -1px 0 -1px 0; 
  z-index: 3;            /* ABOVE the images */
  pointer-events: none;  /* clicks go to images/links */
}

/* Make sure images sit below the grain */
#next .next-col { position: relative; }
#next .next-col img {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: 1;            /* BELOW the grain */
}


/* keep the tiny bleed so no hairline seams */
#next[data-noise] .noise-canvas { inset: 0px 0 -1px 0; }

/* Optional: stack on mobile, still edge-to-edge */
@media (max-width: 900px) {
  #next {
    grid-template-columns: 1fr;           /* 1 column */
    height: 60vh;                          /* keep a strong panel */
  }
}

/* =========================
   Halftone / Noise hosts (not on BODY)
   ========================= */
:not(body)[data-halftone],
:not(body)[data-noise] {
  position: relative;
  overflow: hidden;
}
.halftone-canvas,
.noise-canvas {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 0;
}
/* small bleed to avoid hairline seams */
[data-noise] .noise-canvas { inset: -1px 0 -1px 0; }

/* =========================
   Footer
   ========================= */
#site-footer {
  background: var(--closewhite);
  color: var(--deepblack);
  display: grid;
  grid-template-rows: 1fr 4vh;
  border-top: 1px solid rgba(0,0,0,0.08);
  margin-top: auto;
}

/* 5-column grid */
#site-footer .footer-main {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: clamp(16px, 2vw, 28px);
  padding: clamp(24px, 4vw, 56px);
}

/* Left (cols 1-2) */
.footer-left {
  grid-column: 1 / span 2;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 20vh;
}
.footer-brand {
  margin: 0 0 8px 0;
  font-family: var(--font-title);
  letter-spacing: -0.01em;
  font-size: clamp(1.4rem, 2.4vw, 2.2rem);
  font-weight: 700;
  color: var(--deepblack);
}
.footer-tag { margin: 0; max-width: 40ch; line-height: 1.4; color: #222; }
.footer-arrow {
  position: absolute;
  right: 1em; bottom: 0;
  font-size: clamp(20px, 2.2vw, 28px);
  line-height: 1;
}

/* Middle (cols 3-4) */
.footer-nav-social {
  grid-column: 3 / span 2;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(12px, 2vw, 24px);
}
.footer-h {
  margin: 0 0 10px 0;
  font-size: 0.9rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: #111;
}
.footer-col ul {
  margin: 0; padding: 0;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.footer-col a { color: var(--deepblack); text-decoration: none; font-weight: 500; }
.footer-col a:hover { opacity: 0.7; }

/* Right (col 5) */
.footer-logo-slot {
  grid-column: 5 / span 1;
  display: grid;
  place-items: center;
  font-weight: 700;
  text-transform: uppercase;
  border: 1px dashed rgba(0,0,0,0.15);
  border-radius: 8px;
}

/* Bottom bar */
.footer-bottom {
  background: var(--closewhite);
  border-top: 1px solid rgba(0,0,0,0.08);
  font-family: "Sono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  display: flex;
  align-items: center;
  height: 4vh;
}
.footer-bottom-inner {
  width: 100%;
  padding: 0 clamp(16px, 3vw, 28px);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.footer-bottom-text { font-size: 0.85rem; color: #222; }

/* Responsive footer stacking */
@media (max-width: 900px) {
  #site-footer .footer-main { grid-template-columns: 1fr; }
  .footer-left { grid-column: 1; min-height: auto; padding-bottom: 24px; }
  .footer-arrow {
     position: absolute;
     top: 1.1em;
     margin-top: 16px;
  }
  .footer-nav-social { grid-column: 1; grid-template-columns: 1fr 1fr; }
  .footer-logo-slot { grid-column: 1; margin-top: 16px; min-height: 80px; }
}

/* =========================
   Port Preview
   ========================= */
#portpreview {
  background-color: var(--closewhite);
  
}

#portpreview .port-top {
   position: relative;
   box-sizing: border-box;
   display: flex;
   padding-top: 20vh; 
   height: 65vh;
}
#portpreview .port-top .port-arrow {
  position: absolute;
  right: 12px;
  bottom: 12px;
  font-size: clamp(18px, 2.2vw, 28px);
  line-height: 1;
  color: var(--deepblack);
  text-decoration: none;
}

/* Ensure .port-top is the positioning context (you already have position:relative) */
#portpreview .port-top { position: relative; }

/* Bottom overlay container */
#portpreview .port-top .port-hud {
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: 12px;
  height: 28px;                 /* same height for all items */
  z-index: 4;                   /* above grain */
  pointer-events: none;         /* let only the arrow be clickable */
}

/* Left: 2025 */
#portpreview .port-top .hud-left {
  position: absolute;
  left: 0;
  bottom: 0;
  font-family: var(--font-body);
  font-size: clamp(12px, 1.2vw, 14px);
  letter-spacing: 0.04em;
  color: var(--deepblack);
  opacity: 0.85;
  pointer-events: auto;
}

/* Center: Scroll to explore (true center, regardless of left/right widths) */
#portpreview .port-top .hud-center {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  white-space: nowrap;
  font-family: var(--font-body);
  font-size: clamp(12px, 1.2vw, 14px);
  letter-spacing: 0.06em;
  color: var(--deepblack);
  opacity: 0.9;
  pointer-events: auto;
}

/* Right: arrow */
#portpreview .port-top .port-arrow {
  position: absolute;
  right: 0;
  bottom: 0;
  font-size: clamp(18px, 2.2vw, 28px);
  line-height: 1;
  color: var(--deepblack);
  text-decoration: none;
  pointer-events: auto;          /* clickable */
}

/* Keep grain behind the HUD */
#portpreview .port-top .noise-canvas { z-index: 2; }

/* Tighten on small screens */
@media (max-width: 768px) {
  #portpreview .port-top .port-hud { left: 10px; right: 10px; bottom: 10px; height: 24px; }
  #portpreview .port-top .hud-left,
  #portpreview .port-top .hud-center { font-size: 12px; }
}


#portpreview .port-top .noise-canvas { z-index: 2; }
#portpreview .port-top .port-arrow   { z-index: 3; }

/* mobile override */
@media (max-width: 768px) {
  #portpreview .port-top {
    height: 45vh;
    padding-top: 12vh;
  }
}

/* Title with top space + your negative offsets */
#portpreview .port-title {
  color: var(--deepblack);
  font-family: var(--font-title);
  font-weight: 700;
  letter-spacing: -0.01em;  
  line-height: 1;
}

#portpreview .port-title h2 {
   font-size: clamp(3rem, 12vw, 12rem);
}

.exspot {
   color: var(--deepblack);
   font-family: var(--font-title);
   font-weight: 700;
   letter-spacing: -0.01em;
   font-size: clamp(2rem, 7vw, 12rem);
}

/* Black panel that hosts the grid and the grain */
#portpreview .portpanel {
  background: var(--deepblack);
  position: relative;   /* anchor for noise canvas */
  display: flex;
  flex-direction: column;
}

/* 2x2 grid with 10px padding and 10px gap */
#portpreview .portpanel .grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding: 10px;
}

/* each cell crops its image to fill */
#portpreview .cell {
  position: relative;
  overflow: hidden;
}
#portpreview .cell img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Grain ON TOP of images in this panel */
#portpreview .portpanel[data-noise] .noise-canvas {
  inset: -1px 0 -1px 0;   /* tiny bleed to avoid seams */
  z-index: 3;
  pointer-events: none;
}

/* CTA line under the panel */
#portpreview .port-cta {
  margin: 12vh auto 12vh auto;
  color: var(--closewhite);
  display: block;
  text-align: left;
}

#portpreview .port-cta .arrow {
  font-size: 1.1em;
  line-height: 1;
}

/* Optional: stack to 1 column on smaller screens */
@media (max-width: 900px) {
  #portpreview .portpanel .grid {
    grid-template-columns: 1fr;
  }
}


/* =============== Animations =============== */
@keyframes navDrop {
  from { transform: translateY(-12px); opacity: 0; }
  to   { transform: translateY(0);     opacity: 1; }
}

@keyframes heroRise {
  from { transform: translateY(24px); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}

/* Top nav items: staggered left → right */
.site-nav li {
  opacity: 0;
  transform: translateY(-6px);
  will-change: transform, opacity;
  animation: navDrop .6s cubic-bezier(.22,1,.36,1) forwards;
}

.site-nav li:nth-child(1) { animation-delay: .05s; }
.site-nav li:nth-child(2) { animation-delay: .15s; }
.site-nav li:nth-child(3) { animation-delay: .25s; }
.site-nav li:nth-child(4) { animation-delay: .35s; }

/* Hero title: slide up + fade in */
#hero h1 {
  /* keep your existing styles; add this line to animate */
  animation: heroRise .8s cubic-bezier(.22,1,.36,1) .25s both;
  will-change: transform, opacity;
}

/* Respect reduced-motion preferences */
@media (prefers-reduced-motion: reduce) {
  .site-nav li,
  #hero h1 {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}


/* Shared CTA look used in hero + portpreview */
.cta-line {
  display: inline-flex;
  align-items: center;
  gap: 0.5ch;
  border-bottom: 1px dashed currentColor; /* same look as port-cta */
  text-decoration: none;
  color: inherit; /* inherit from parent */
  line-height: 1.1;
}
.cta-line .arrow { font-size: 1.1em; line-height: 1; }

/* Hero CTA placement and color */
#hero .hero-cta {
  margin-top: 0.75rem;         /* tighter than port-cta so hero layout stays clean */
  margin-left: 2vw;
  color: var(--closewhite);    /* white on dark hero */
}

/* --- Put grain above animated content --- */
/* Default: grain sits on top inside any [data-noise] host */
[data-noise] .noise-canvas {
  z-index: 50;           /* higher than any content with no z-index */
  pointer-events: none;  /* still click-through */
}

/* Hero: force the grain above the title animation */
#hero[data-noise] .noise-canvas { z-index: 60; }

/* Keep hero content below the grain */
#hero .hero-top,
#hero h1,
#hero .hero-cta {
  position: relative;
  z-index: 0;
}

/* Next: you already wanted grain above images — keep it explicit */
#next[data-noise] .noise-canvas { z-index: 60; }

/* Port preview: if you want the HUD (2025 / Scroll to explore / →) ABOVE grain,
   keep it higher; if you want it under grain too, change 200 -> 0. */
#portpreview .port-top .port-hud { z-index: 200; }
#portpreview .port-top .noise-canvas { z-index: 60; }


/* =========================
   Contact Modal
   ========================= */
.modal[hidden] { display: none; }
.modal {
  position: fixed;
  inset: 0;
  z-index: 1000; /* above grain and HUD */
}

.modal-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(10,10,10,0.55);
  backdrop-filter: blur(2px);
}

.modal-window {
  position: relative;
  width: min(520px, 92vw);
  margin: 10vh auto 0;
  background: var(--lightgray);          /* #f2f1f0 */
  color: var(--deepblack);
  border: 1px solid rgba(0,0,0,0.12);
  border-radius: 1px;
  padding: clamp(16px, 3vw, 24px);
  box-shadow: 0 24px 80px rgba(0,0,0,0.5);
}

.modal-title {
  margin: 0 0 12px 0;
  font-family: var(--font-title);
  font-size: clamp(1.1rem, 2.2vw, 1.4rem);
  letter-spacing: 0.01em;
}

.modal-x {
  position: absolute;
  top: 10px; right: 12px;
  background: none;
  border: none;
  color: var(--deepblack);
  font-size: 20px;
  line-height: 1;
  cursor: pointer;
}

.contact-form {
  display: grid;
  gap: 12px;
}

.contact-form label {
  font-size: 0.95rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  color: var(--deepblack);
}

.contact-form input,
.contact-form textarea {
  border: none;
  border-bottom: 1px solid var(--deepblack);
  background: transparent;
  color: var(--deepblack);
  padding: 8px 0;
  outline: none;
  font-family: var(--font-body);
}

.contact-form input:focus,
.contact-form textarea:focus {
  border-bottom-color: #000;
}

.send-demo {
  margin-top: 6px;
  align-self: start;
  background: transparent;
  color: var(--deepblack);
  border: 1px dashed var(--deepblack);
  border-radius: 8px;
  padding: 8px 12px;
  cursor: pointer;
}

body.modal-open { overflow: hidden; } /* prevent page scroll while open */

/* Respect reduced motion users: no animated open/close for now */
@media (prefers-reduced-motion: reduce) {
  .modal-window { transition: none !important; }
}

/* Treat the CTA button like a link visually */
.as-button {
  background: none;
  border: none;
  padding: 0;
  font: inherit;
  color: inherit;
  cursor: pointer;
}
.as-button:focus { outline: 2px dashed currentColor; outline-offset: 2px; }

